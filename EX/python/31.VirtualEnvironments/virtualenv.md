# 31. 가상 환경(`venv`) 사용하기

프로젝트마다 독립적인 패키지 공간을 유지하려면 **가상 환경(virtual environment)**을 사용한다. `venv` 모듈은 **가벼운 가상 환경을 만들고 분리된 `site` 디렉터리를 갖는 파이썬 실행 환경을 제공한다**고 설명한다【683846839218653†L61-L87】. 각 가상 환경에는 별도의 패키지 설치 공간이 있으며, 기본 파이썬 설치에 영향을 주지 않는다.

## 가상 환경 생성

터미널에서 다음 명령으로 새 가상 환경을 생성할 수 있다:

```sh
python -m venv .venv
```

`python -m venv path` 명령은 지정한 디렉터리에 가상 환경을 만든다【683846839218653†L104-L119】. 보통 프로젝트 루트에 `.venv` 혹은 `venv` 폴더를 두고 사용한다. 생성된 환경은 `bin/` 또는 `Scripts/` 디렉터리에 파이썬 실행 파일과 툴을 포함한다.

## 가상 환경 활성화

환경을 활성화하여 현재 셸에서 사용할 수 있다. 운영체제마다 활성화 방법이 다르다.

- **Unix/macOS**: `source .venv/bin/activate`
- **Windows**: `.venv\Scripts\activate.bat`

활성화되면 프롬프트 앞에 환경 이름이 표시되고, `python`과 `pip` 명령이 가상 환경 안의 실행 파일을 가리킨다. 패키지를 설치할 때 전역 환경을 오염시키지 않는다.

## 패키지 설치와 비활성화

가상 환경이 활성화된 상태에서 `pip install`로 필요한 패키지를 설치한다. 예를 들어:

```sh
source .venv/bin/activate
pip install requests
python your_script.py
deactivate  # 환경 비활성화
```

비활성화하려면 `deactivate` 명령을 실행하면 된다. `venv`를 통해 의존성 충돌을 방지하고 프로젝트별로 독립된 환경을 유지할 수 있으며, 이는 배포 패키지 작성과 테스트에 필수적이다【683846839218653†L61-L87】.