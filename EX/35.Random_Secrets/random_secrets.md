# 난수와 보안용 난수

파이썬에서 난수를 생성할 때는 두 가지 주요 모듈을 사용합니다. 하나는 `random` 모듈이며, 이는 **의사 난수(pseudo‑random)** 생성기를 제공하여 다양한 확률 분포의 숫자를 생성합니다. 기본 구현은 메르센 트위스터 알고리즘이며, `random()` 함수는 0.0 이상 1.0 미만의 부동소수점 값을 반환합니다【174450374466259†L67-L87】. 그러나 `random` 모듈의 난수는 예측 가능하기 때문에 암호학적 용도로는 사용하지 않습니다.

또 다른 모듈은 `secrets`이며, **암호학적으로 안전한 난수**를 제공합니다. `secrets`는 운영체제의 보안 난수 소스를 사용하여 비밀번호, 토큰, API 키 등을 생성하는 데 적합합니다【825417840521030†L61-L69】. `secrets.token_bytes()`와 `secrets.token_hex()`는 원하는 길이의 시크릿 바이트나 16진수 문자열을 만들어 줍니다. `secrets.choice()`는 주어진 시퀀스에서 안전하게 임의 원소를 선택하며, `secrets.randbelow(n)`은 0 이상 n 미만의 안전한 임의 정수를 반환합니다【825417840521030†L76-L96】.

## `random` 모듈 요약

* **기본 함수:** `random()`은 [0.0, 1.0) 범위의 부동소수점 값을 반환합니다【174450374466259†L67-L87】. `randint(a, b)`는 a와 b 사이의 정수를 균일하게 반환합니다. `choice(seq)`는 시퀀스에서 임의 요소를 선택하며 `shuffle(list)`는 리스트를 제자리에서 섞습니다.
* **분포 함수:** `gauss(mu, sigma)`, `expovariate(lambd)`, `uniform(a, b)`, `triangular(low, high, mode)` 등 여러 확률 분포를 지원합니다.
* **시드 제어:** `seed()` 함수로 시드를 설정하여 재현 가능한 난수열을 생성할 수 있습니다. 시드를 설정하지 않으면 시스템 시드(현재 시간 등)를 사용합니다.
* **주의 사항:** `random` 모듈의 난수는 암호학적으로 안전하지 않습니다. 기밀성이 필요한 토큰이나 비밀번호를 생성할 때는 `secrets`를 사용해야 합니다【825417840521030†L61-L69】.

## `secrets` 모듈 요약

* **`token_bytes(n)` / `token_hex(n)` / `token_urlsafe(n)`** – n바이트 길이의 보안 토큰을 생성합니다. URL 안전한 형식도 제공합니다.
* **`randbelow(n)`** – 0 이상 n 미만의 랜덤 정수를 반환합니다. 난수 범위가 비표준인 경우 사용하기 좋습니다【825417840521030†L76-L96】.
* **`choice(sequence)`** – 주어진 시퀀스에서 암호학적으로 안전한 방법으로 무작위 요소를 선택합니다.
* **사용 예:** 비밀번호 생성기, API 키 생성, 세션 ID, 일회용 토큰 등.

## 요약

`random` 모듈은 일반적인 시뮬레이션과 게임 로직에 적합한 빠른 난수 생성기를 제공하지만, 내부 상태를 기반으로 하기 때문에 예측될 수 있습니다. 민감한 데이터나 인증 토큰을 생성할 때는 `secrets` 모듈을 사용하여 OS 수준의 강력한 난수를 활용해야 합니다【825417840521030†L61-L69】.

---

### 참고 문헌

1. `random` 모듈은 메르센 트위스터 기반의 의사 난수 생성기로서 `random()`은 [0.0, 1.0) 범위의 값을 반환한다【174450374466259†L67-L87】.
2. `secrets` 모듈은 암호학적으로 안전한 난수 생성기를 제공하며, 토큰과 난수를 생성하기 위한 여러 함수를 정의한다【825417840521030†L61-L69】【825417840521030†L76-L96】.