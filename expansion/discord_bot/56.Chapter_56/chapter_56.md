# 지속 뷰와 상태 유지

일반적인 뷰(View)는 메시지와 함께 전송되고 일정 시간(`timeout`)이 지나면 상호작용을 더 이상 받을 수 없습니다. 그러나 봇이 재시작하더라도 버튼과 선택 메뉴를 계속 사용할 수 있도록 하고 싶다면 **지속 뷰(persistent view)**를 만들어야 합니다. 지속 뷰는 `timeout=None`으로 설정하고, 모든 컴포넌트에 고유한 `custom_id`를 부여한 뒤 봇 시작 시 `bot.add_view()`로 등록해야 합니다【716329102970593†L5969-L6031】【716329102970593†L4889-L4924】.

## 구현 방법 요약

1. 각 `discord.ui.Button` 또는 `discord.ui.Select`에 **`custom_id`**를 지정합니다.
2. `View` 인스턴스를 생성할 때 `timeout=None`을 설정해 만료되지 않게 합니다.
3. 봇이 준비될 때 `bot.add_view(view_instance)`를 호출하여 뷰를 등록합니다. 같은 `custom_id`를 재사용하면 오류가 발생하므로 주의합니다.

아래 Python 파일(`chapter_56.py`)에서는 사용자가 버튼을 누를 때마다 특정 역할을 토글하는 지속 뷰를 구현하는 예제를 제공합니다. 역할이 존재하지 않으면 오류 메시지를 전송하고, 이미 역할을 가지고 있으면 제거합니다. 메시지가 재시작 후에도 작동하게 하려면 봇이 시작될 때 `bot.add_view()`로 뷰를 등록해야 합니다.

